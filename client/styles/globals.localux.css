/**
 * LOCAL UX Global Styles
 * Replaces external font imports with local font system
 * Pixel-perfect implementation from /Documents/LOCAL UX/ reference
 */

/* NO external font imports in LOCAL_HOUSE mode */
/* External fonts are handled by fontLoader.ts */

@tailwind base;
@tailwind components; 
@tailwind utilities;

@custom-variant dark (&:is(.dark *));

:root {
  --font-size: 14px;
  
  /* Dashboard Mode Colors (Default) - from LOCAL UX reference */
  --background: #ffffff;
  --foreground: oklch(0.145 0 0);
  --card: #ffffff;
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: #030213;
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.95 0.0058 264.53);
  --secondary-foreground: #030213;
  --muted: #ececf0;
  --muted-foreground: #717182;
  --accent: #e9ebef;
  --accent-foreground: #030213;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: rgba(0, 0, 0, 0.1);
  --input: transparent;
  --input-background: #f3f3f5;
  --switch-background: #cbced4;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 12px;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: #030213;
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* AI Answer Card Component Library Design Tokens - LOCAL UX spec */
  --ai-card-radius-sm: 12px;
  --ai-card-radius-lg: 16px;
  --ai-card-shadow-e1: 0 4px 10px rgba(0, 0, 0, 0.08);
  --ai-card-color-white: #FFFFFF;
  --ai-card-border: rgba(0, 0, 0, 0.05);
  --ai-card-blue-start: #0070FF;
  --ai-card-blue-end: #00A4FF;
  
  /* Maximum Strength Glassmorphism Design Tokens - LOCAL UX spec */
  --glass-bg-collapsed: rgba(255, 255, 255, 0.10);
  --glass-bg-expanded: rgba(255, 255, 255, 0.10);
  --glass-border-collapsed: rgba(255, 255, 255, 0.15);
  --glass-border-expanded: rgba(255, 255, 255, 0.20);
  --glass-blur-subtle: blur(24px) saturate(1.25);
  --glass-blur-strong: blur(32px) saturate(1.3);
  --glass-shadow-collapsed: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.06), inset 0 1px 0 rgba(255, 255, 255, 0.20);
  --glass-shadow-expanded: 0 16px 64px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.08), inset 0 2px 0 rgba(255, 255, 255, 0.25);
  
  /* Spacing System - 4px Grid - LOCAL UX spec */
  --spacing-1: 4px;   /* 4px */
  --spacing-2: 8px;   /* 8px */
  --spacing-3: 12px;  /* 12px */
  --spacing-4: 16px;  /* 16px */
  --spacing-5: 20px;  /* 20px */
  --spacing-6: 24px;  /* 24px */
  --spacing-7: 28px;  /* 28px */
  --spacing-8: 32px;  /* 32px */
  
  /* Enhanced Glassmorphism Confidence Badge Colors - LOCAL UX spec */
  --confidence-low-bg: rgba(248, 250, 252, 0.8);
  --confidence-low-text: #64748b;
  --confidence-low-border: rgba(226, 232, 240, 0.6);
  --confidence-low-backdrop: blur(8px) saturate(1.1);
  --confidence-medium-bg: rgba(219, 234, 254, 0.7);
  --confidence-medium-text: #1e40af;
  --confidence-medium-border: rgba(147, 197, 253, 0.5);
  --confidence-medium-backdrop: blur(8px) saturate(1.15);
  --confidence-high-bg: linear-gradient(135deg, rgba(0, 112, 255, 0.9) 0%, rgba(0, 164, 255, 0.9) 100%);
  --confidence-high-text: #ffffff;
  --confidence-high-border: rgba(0, 112, 255, 0.3);
  --confidence-high-backdrop: blur(12px) saturate(1.2);

  /* Interactive Button States - LOCAL UX spec */
  --button-helpful-bg: rgba(34, 197, 94, 0.1);
  --button-helpful-border: #22c55e;
  --button-helpful-text: #166534;
  --button-not-helpful-bg: rgba(239, 68, 68, 0.1);
  --button-not-helpful-border: #ef4444;
  --button-not-helpful-text: #991b1b;
  
  /* Enhanced Multi-Tonal Background System - LOCAL UX spec */
  --gradient-base-bg: #f4f8ff;
  --gradient-blue-primary: radial-gradient(ellipse 160% 140% at 70% 50%, #e8f4ff 0%, #d1e9ff 25%, #b3d9ff 45%, #87cefc 65%, transparent 85%);
  --gradient-blue-secondary: radial-gradient(ellipse 120% 100% at 50% 20%, #f0f6ff 0%, #e8f2ff 20%, #d4e8ff 40%, transparent 70%);
  --gradient-coral-accent: radial-gradient(ellipse 100% 120% at 25% 85%, #fdf2f8 0%, #f8e8f0 15%, #f0d9e8 30%, #e8d4f0 45%, transparent 75%);
  --gradient-warm-overlay: radial-gradient(ellipse 80% 100% at 15% 45%, #fef7f0 0%, #fdf0e8 20%, #f8e8f0 35%, transparent 60%);
  --gradient-blue-intensity: radial-gradient(ellipse 90% 110% at 85% 25%, #e0f0ff 0%, #b8dcf8 25%, #7AD1FF 50%, #5BB8F7 65%, transparent 80%);
  --gradient-purple-blend: radial-gradient(ellipse 70% 90% at 45% 40%, #f4f0ff 0%, #eae8ff 25%, #ddd8ff 45%, transparent 70%);
  --gradient-linear-flow: linear-gradient(125deg, rgba(253, 242, 248, 0.4) 0%, rgba(240, 246, 255, 0.5) 25%, rgba(232, 242, 255, 0.6) 50%, rgba(122, 209, 255, 0.3) 75%, rgba(91, 184, 247, 0.2) 100%);
  --gradient-conic-blend: conic-gradient(from 45deg at 60% 40%, rgba(240, 246, 255, 0.8) 0deg, rgba(248, 232, 240, 0.4) 90deg, rgba(244, 240, 255, 0.5) 180deg, rgba(232, 242, 255, 0.6) 270deg, rgba(240, 246, 255, 0.8) 360deg);
  --gradient-orange-accent: radial-gradient(ellipse 110% 80% at 40% 95%, #fff7ed 0%, #fef3e8 15%, #fde8d8 25%, transparent 55%);
  --gradient-harmonizing: radial-gradient(ellipse 140% 120% at 50% 50%, transparent 0%, rgba(244, 248, 255, 0.2) 40%, rgba(240, 246, 255, 0.4) 70%, rgba(244, 248, 255, 0.3) 100%);
  
  /* Royal Plum + Champagne Gold Opulent Dark System - LOCAL UX spec */
  --dark-gradient-base-bg: #0f0b12;
  --opulent-gold: #2563eb;
  --opulent-gold-600: #1d4ed8;
  --opulent-gold-400: #3b82f6;
  --opulent-gold-300: #60a5fa;
  --opulent-plum-800: #201428;
  --opulent-plum-900: #0f0b12;
  --opulent-plum-700: #2a1c32;
  --opulent-plum-600: #352440;
  
  /* Font system for LOCAL UX - no external dependencies */
  --font-display: 'Eloquia Display', 'Inter Local', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-text: 'Eloquia Text', 'Inter Local', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
}

/* Chat Mode Clean White Workspace Variables - LOCAL UX spec */
.chat-mode {
  --background: #fcfeff;
  --card: #ffffff;
  --border: rgba(0, 0, 0, 0.05);
  --popover: #ffffff;
  --muted: #f3f3f5;
  --accent: #f0f6ff;
  --input-background: #f5f7fb;
  --ring: rgba(0, 112, 255, 0.45);
  
  --chat-bubble-ai-bg: rgba(240, 248, 255, 0.75);
  --chat-bubble-ai-border: rgba(0, 0, 0, 0.06);
  --chat-bubble-user-bg: #ffffff;
  --chat-bubble-user-border: rgba(0, 0, 0, 0.06);
  
  --glass-bg-collapsed: rgba(255, 255, 255, 0.20);
  --glass-bg-expanded: rgba(255, 255, 255, 0.25);
  
  --card-shadow: 0 1px 2px rgba(0, 0, 0, 0.06), 0 4px 10px rgba(0, 0, 0, 0.04);
  
  --sidebar: #ffffff;
  --sidebar-border: rgba(0, 0, 0, 0.06);
  
  --button-helpful-bg: rgba(34, 197, 94, 0.08);
  --button-not-helpful-bg: rgba(239, 68, 68, 0.08);
  
  --ai-card-shadow-e1: var(--card-shadow);
}

/* Dark Mode Chat Interface - Premium Royal System */
.dark.chat-mode {
  --background: var(--opulent-plum-900);
  --card: var(--opulent-plum-800);
  --border: rgba(200, 169, 81, 0.12);
  --popover: var(--opulent-plum-800);
  --muted: var(--opulent-plum-700);
  --accent: var(--opulent-plum-700);
  --input-background: var(--opulent-plum-700);
  --ring: rgba(200, 169, 81, 0.45);
  
  /* AI bubble: darker, clearer border, explicit text color */
  --chat-bubble-ai-bg: rgba(32, 20, 40, 0.95);
  --chat-bubble-ai-border: rgba(255, 255, 255, 0.14);
  --chat-bubble-ai-text: #F5F5F5;
  
  /* User bubble: slightly stronger gold fill + clearer border; explicit text */
  --chat-bubble-user-bg: linear-gradient(135deg, rgba(200, 169, 81, 0.22) 0%, rgba(200, 169, 81, 0.16) 100%);
  --chat-bubble-user-border: rgba(200, 169, 81, 0.28);
  --chat-bubble-user-text: #0f0b12;
  
  /* Chat input placeholder */
  --input-placeholder: #C1BEC9;
  
  --glass-bg-collapsed: rgba(32, 20, 40, 0.30);
  --glass-bg-expanded: rgba(32, 20, 40, 0.35);
  
  --card-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 8px 32px rgba(0, 0, 0, 0.3);
  
  --sidebar: var(--opulent-plum-900);
  --sidebar-border: rgba(200, 169, 81, 0.12);
  
  --ai-card-shadow-e1: var(--card-shadow);
}

.dark {
  /* Surface colors with improved contrast */
  --background: #0f0b12;
  --foreground: #FAFAFA;
  --card: #0f0b12;
  --card-foreground: #FAFAFA;
  --popover: #201428;
  --popover-foreground: #F5F5F5;
  --primary: var(--opulent-gold);
  --primary-foreground: #0f0b12;
  
  /* Secondary elements with explicit foregrounds */
  --secondary: #201428;
  --secondary-foreground: #E9E9EE;
  --muted: #201428;
  --muted-foreground: #C1BEC9;
  --accent: #201428;
  --accent-foreground: #F5F5F5;
  
  /* Destructive colors */
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  
  /* Borders and inputs with improved contrast */
  --border: rgba(255, 255, 255, 0.12);
  --border-accent: rgba(200, 169, 81, 0.28);
  --input: rgba(255, 255, 255, 0.10);
  --input-background: #2a1c32;
  --switch-background: var(--opulent-plum-600);
  --ring: rgba(200, 169, 81, 0.60);
  
  /* Hero title/readability */
  --heading-foreground: #FFFFFF;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --chart-1: var(--opulent-gold-300);
  --chart-2: var(--opulent-gold);
  --chart-3: var(--opulent-gold-600);
  --chart-4: var(--opulent-plum-700);
  --chart-5: var(--opulent-plum-600);
  --sidebar: #201428;
  --sidebar-foreground: #E9E9EE;
  --sidebar-primary: var(--opulent-gold);
  --sidebar-primary-foreground: var(--opulent-plum-900);
  --sidebar-accent: rgba(255, 255, 255, 0.06);
  --sidebar-accent-foreground: #FAFAFA;
  --sidebar-border: rgba(255, 255, 255, 0.10);
  --sidebar-ring: rgba(200, 169, 81, 0.60);
  
  /* Premium dark mode enhancements */
  --ai-card-radius-sm: 12px;
  --ai-card-radius-lg: 16px;
  --ai-card-shadow-e1: 0 4px 16px rgba(0, 0, 0, 0.4);
  --ai-card-color-white: var(--opulent-plum-800);
  --ai-card-border: rgba(200, 169, 81, 0.15);
  --ai-card-blue-start: var(--opulent-gold);
  --ai-card-blue-end: var(--opulent-gold-600);
  
  /* Enhanced glassmorphism for dark mode */
  --glass-bg-collapsed: rgba(32, 20, 40, 0.24);
  --glass-bg-expanded: rgba(32, 20, 40, 0.32);
  --glass-border-collapsed: rgba(255, 255, 255, 0.12);
  --glass-border-expanded: rgba(255, 255, 255, 0.16);
  --glass-blur-subtle: blur(24px) saturate(1.25);
  --glass-blur-strong: blur(32px) saturate(1.3);
  --glass-shadow-collapsed: 0 8px 32px rgba(0, 0, 0, 0.6), 0 2px 6px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.08);
  --glass-shadow-expanded: 0 16px 64px rgba(0, 0, 0, 0.65), 0 4px 12px rgba(0, 0, 0, 0.35), inset 0 2px 0 rgba(255, 255, 255, 0.12);
  
  /* Dark mode confidence badges */
  --confidence-low-bg: rgba(32, 20, 40, 0.8);
  --confidence-low-text: rgba(245, 245, 245, 0.6);
  --confidence-low-border: rgba(200, 169, 81, 0.2);
  --confidence-low-backdrop: blur(8px) saturate(1.1);
  --confidence-medium-bg: rgba(200, 169, 81, 0.2);
  --confidence-medium-text: var(--opulent-gold-300);
  --confidence-medium-border: rgba(200, 169, 81, 0.3);
  --confidence-medium-backdrop: blur(8px) saturate(1.15);
  --confidence-high-bg: linear-gradient(135deg, var(--opulent-gold) 0%, var(--opulent-gold-600) 100%);
  --confidence-high-text: var(--opulent-plum-900);
  --confidence-high-border: rgba(200, 169, 81, 0.4);
  --confidence-high-backdrop: blur(12px) saturate(1.2);
  
  /* Premium button states for dark mode */
  --button-helpful-bg: rgba(200, 169, 81, 0.15);
  --button-helpful-border: var(--opulent-gold);
  --button-helpful-text: var(--opulent-gold-300);
  --button-not-helpful-bg: rgba(212, 24, 61, 0.15);
  --button-not-helpful-border: #d4183d;
  --button-not-helpful-text: #ff6b6b;
}

/* Base styles with LOCAL UX typography */
* {
  border-color: hsl(var(--border));
  font-synthesis: none;
}

/* Force full height for all root elements */
html, body {
  height: 100% !important;
  max-height: 100vh !important;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-text);
  font-synthesis: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Root container should use full viewport height */
#root {
  height: 100vh !important;
  max-height: 100vh !important;
  width: 100vw !important;
  overflow: hidden;
}

/* Font loading states for FOIT/FOUT prevention */
.fonts-loading {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.fonts-loaded {
  font-family: var(--font-text);
}

/* Font fallback classes */
.eloquia-display-fallback .font-display,
.eloquia-text-fallback .font-text {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* Typography utility classes */
.font-display {
  font-family: var(--font-display);
  font-synthesis: none;
}

.font-text {
  font-family: var(--font-text);
  font-synthesis: none;
}

.font-mono {
  font-family: var(--font-mono);
  font-synthesis: none;
}

/* Scrollbar hiding for clean LOCAL UX */
.scrollbar-hidden {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hidden::-webkit-scrollbar {
  display: none;
}

/* Motion specifications - transform/opacity only */
@media (prefers-reduced-motion: no-preference) {
  .motion-safe-transform {
    transition-property: transform, opacity;
    transition-timing-function: cubic-bezier(0.22, 0.61, 0.36, 1);
  }
  
  .motion-micro {
    transition-duration: 150ms;
  }
  
  .motion-ui {
    transition-duration: 280ms;
  }
  
  .motion-section {
    transition-duration: 450ms;
  }
  
  .motion-page {
    transition-duration: 600ms;
  }
}

@media (prefers-reduced-motion: reduce) {
  .motion-safe-transform {
    transition: none;
  }
}
/* LOCAL UX Enhanced Interface Styling */
.local-ux-enhanced {
  /* Enable LOCAL UX font system */
  font-family: var(--font-text);
  font-synthesis: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  
  /* Force full viewport height utilization */
  height: 100vh !important;
  max-height: 100vh !important;
  overflow: hidden !important;
}

/* Fix root container height issues */
.local-ux-enhanced > div {
  height: 100vh !important;
  max-height: 100vh !important;
}

.local-ux-enhanced .platform_name_display {
  /* Enhanced LOCAL UX typography for CelesteOS branding */
  font-family: var(--font-display) !important;
  font-weight: 400 !important;
  letter-spacing: -0.01em !important;
}

.local-ux-enhanced .sidebar_container {
  /* Enhanced glassmorphism for LOCAL UX */
  background: var(--glass-bg-expanded) !important;
  backdrop-filter: var(--glass-blur-strong) !important;
  -webkit-backdrop-filter: var(--glass-blur-strong) !important;
  border-right: 1px solid var(--glass-border-expanded) !important;
  box-shadow: var(--glass-shadow-expanded) !important;
}

.local-ux-enhanced .chat_interface {
  /* LOCAL UX enhanced chat styling */
  font-family: var(--font-text) !important;
}

.local-ux-enhanced .mobile_menu_toggle,
.local-ux-enhanced .dev_comparison_button {
  /* Enhanced LOCAL UX button styling */
  font-family: var(--font-text) !important;
  font-weight: 500 !important;
  transition: all 300ms cubic-bezier(0.22, 0.61, 0.36, 1) !important;
}

.local-ux-enhanced .mobile_menu_toggle:hover,
.local-ux-enhanced .dev_comparison_button:hover {
  transform: translateY(-1px) scale(1.02) !important;
}

/* LOCAL UX enhanced animations */
.local-ux-enhanced * {
  /* Apply LOCAL UX motion system globally */
  transition-timing-function: cubic-bezier(0.22, 0.61, 0.36, 1);
}

.local-ux-enhanced .transition-all {
  transition-duration: 280ms;
}

.local-ux-enhanced .transition-colors {
  transition-duration: 150ms;
}

/* LOCAL UX Layout Optimizations for Better Screen Utilization */
.local-ux-enhanced .chat_messages_container,
.local-ux-enhanced .query_input_container {
  /* Optimize for wider screens while maintaining readability */
  max-width: min(1200px, calc(100vw - 64px)) !important;
  width: 100% !important;
}

/* Responsive layout improvements */
@media (min-width: 1400px) {
  .local-ux-enhanced .chat_messages_container,
  .local-ux-enhanced .query_input_container {
    max-width: 1400px !important;
    padding-left: 48px !important;
    padding-right: 48px !important;
  }
}

@media (min-width: 1600px) {
  .local-ux-enhanced .chat_messages_container,
  .local-ux-enhanced .query_input_container {
    max-width: 1600px !important;
    padding-left: 64px !important;
    padding-right: 64px !important;
  }
}

/* Improve vertical space utilization */
.local-ux-enhanced .messages_timeline {
  min-height: calc(100vh - 200px) !important;
  padding-bottom: 32px !important;
}

/* Fix main content container height */
.local-ux-enhanced .main_content_container {
  height: 100vh !important;
  max-height: 100vh !important;
}

/* Fix chat interface height */
.local-ux-enhanced .chat_interface {
  height: 100vh !important;
  max-height: 100vh !important;
}

/* Fix welcome state container to use full available height */
.local-ux-enhanced .welcome_state_container {
  height: 100% !important;
  min-height: calc(100vh - 120px) !important;
}

/* Ensure flex containers use full height */
.local-ux-enhanced .flex.h-full.flex-col {
  height: 100vh !important;
  max-height: 100vh !important;
}

/* Fix the background layers to use full viewport height */
.local-ux-enhanced .absolute.inset-0 {
  height: 100vh !important;
  max-height: 100vh !important;
}

/* Enhanced chat message spacing for wider layouts */
.local-ux-enhanced .user_message_container,
.local-ux-enhanced .ai_message_container {
  margin-bottom: 24px !important;
}

/* Mobile presentation optimizations */
@media (max-width: 767px) {
  .local-ux-enhanced {
    /* Ensure mobile viewport handling */
    height: 100vh !important;
    height: 100dvh !important; /* Dynamic viewport height for mobile */
    max-height: 100vh !important;
    max-height: 100dvh !important;
  }
  
  .local-ux-enhanced .sidebar_container {
    /* Hide sidebar on mobile for presentation focus */
    transform: translateX(-100%) !important;
    transition: transform 0.3s ease !important;
  }
  
  .local-ux-enhanced .main_content_container {
    /* Full width on mobile */
    margin-left: 0 !important;
    width: 100% !important;
  }
  
  .local-ux-enhanced .platform_title_display {
    /* Optimize title size for mobile presentation */
    font-size: 32px !important;
    line-height: 38px !important;
  }
  
  .local-ux-enhanced .welcome_message_display {
    /* Optimize welcome message for mobile */
    font-size: 16px !important;
    line-height: 22px !important;
  }
  
  .local-ux-enhanced .query_input_container {
    /* Better mobile input area */
    padding: 16px !important;
    max-width: 100% !important;
  }
  
  .local-ux-enhanced .user_query_input {
    /* Better mobile text input */
    font-size: 16px !important; /* Prevents zoom on iOS */
  }
}

/* Better button and input sizing for desktop */
@media (min-width: 768px) {
  .local-ux-enhanced .user_query_form input {
    min-height: 56px !important;
    padding: 16px 20px !important;
    font-size: 16px !important;
  }
  
  .local-ux-enhanced .search_strategy_toggles {
    gap: 16px !important;
  }
}

/* LOCAL UX Animation Keyframes */
@keyframes gradientDrift {
  0% { transform: translateX(-10px) translateY(-10px) scale(1); }
  100% { transform: translateX(10px) translateY(10px) scale(1.05); }
}

@keyframes parallaxFloat {
  0% { transform: translateX(-20px) rotate(0deg); }
  50% { transform: translateX(20px) rotate(180deg); }
  100% { transform: translateX(-20px) rotate(360deg); }
}

@keyframes conicRotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes bounce {
  0%, 20%, 53%, 80%, 100% { transform: translate(-50%, 0); }
  40%, 43% { transform: translate(-50%, -8px); }
  70% { transform: translate(-50%, -4px); }
  90% { transform: translate(-50%, -2px); }
}

/* AISolutionCard animations (replaced framer-motion) */
@keyframes slideIn {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes expandHeight {
  0% { max-height: 0; opacity: 0; }
  100% { max-height: 1000px; opacity: 1; }
}

/* Solution card animation classes */
.solution-card {
  animation: slideIn 0.3s ease-out;
}

.solution-expanded {
  animation: expandHeight 0.3s ease-out;
  overflow: hidden;
}

.feedback-section {
  animation: slideIn 0.2s ease-out;
}

/* Additional AISolutionCard animation classes */
.solution-expanded-content {
  animation: expandHeight 0.3s ease-out;
  overflow: hidden;
}

.step-container {
  animation: slideIn 0.3s ease-out;
}

.step-item {
  animation: slideIn 0.2s ease-out;
}

.fade-in {
  animation: fadeIn 0.2s ease-out;
}

.slide-in {
  animation: slideIn 0.2s ease-out;
}

.feedback-button {
  animation: scaleIn 0.2s ease-out;
}

.feedback-form {
  animation: slideIn 0.3s ease-out;
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes scaleIn {
  0% { opacity: 0; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1); }
}

/* Reduced motion fallbacks for component styles */
@media (prefers-reduced-motion: reduce) {
  .problem-card,
  .relief-card,
  .transition-indicator,
  .demo-tab,
  .confidence-bar {
    animation: none !important;
    transition: none !important;
  }
  
  .relief-card:hover,
  .demo-tab:hover {
    transform: none !important;
  }
}

/* Premium Dark Mode Component Enhancements */
.dark .local-ux-enhanced {
  /* Apply dark theme color system */
  color: var(--foreground);
}

.dark .local-ux-enhanced .sidebar_container {
  /* Enhanced dark glassmorphism for sidebar */
  background: rgba(32, 20, 40, 0.40) !important;
  backdrop-filter: blur(32px) saturate(1.2) !important;
  -webkit-backdrop-filter: blur(32px) saturate(1.2) !important;
  border-right: 1px solid rgba(200, 169, 81, 0.12) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(200, 169, 81, 0.08) !important;
}

.dark .local-ux-enhanced .mobile_menu_toggle,
.dark .local-ux-enhanced .dev_comparison_button {
  /* Premium dark button styling */
  background: rgba(32, 20, 40, 0.50) !important;
  border: 1px solid rgba(200, 169, 81, 0.15) !important;
  color: var(--opulent-gold-300) !important;
}

.dark .local-ux-enhanced .mobile_menu_toggle:hover,
.dark .local-ux-enhanced .dev_comparison_button:hover {
  background: rgba(200, 169, 81, 0.15) !important;
  border-color: rgba(200, 169, 81, 0.25) !important;
}

.dark .local-ux-enhanced .platform_name_display span:first-child {
  /* CelesteOS "Celeste" text in dark mode */
  color: var(--opulent-gold-300) !important;
}

.dark .local-ux-enhanced .platform_name_display span:last-child {
  /* CelesteOS "OS" gradient in dark mode */
  background: linear-gradient(115deg, var(--opulent-gold) 0%, var(--opulent-gold-600) 100%) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
}

/* Dark mode chat interface enhancements */
.dark .local-ux-enhanced .chat_interface {
  background: transparent !important;
}

.dark .local-ux-enhanced .user_message_container {
  /* Premium user message styling */
  background: linear-gradient(135deg, rgba(200, 169, 81, 0.15) 0%, rgba(200, 169, 81, 0.10) 100%) !important;
  border: 1px solid rgba(200, 169, 81, 0.20) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(200, 169, 81, 0.1) !important;
}

.dark .local-ux-enhanced .ai_message_container {
  /* Premium AI message styling */
  background: rgba(32, 20, 40, 0.85) !important;
  border: 1px solid rgba(200, 169, 81, 0.15) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(200, 169, 81, 0.08) !important;
}

/* Dark mode input area */
.dark .local-ux-enhanced .query_input_container {
  background: rgba(32, 20, 40, 0.50) !important;
  backdrop-filter: blur(24px) saturate(1.2) !important;
  -webkit-backdrop-filter: blur(24px) saturate(1.2) !important;
  border-top: 1px solid rgba(200, 169, 81, 0.12) !important;
}

.dark .local-ux-enhanced .user_query_input {
  background: var(--opulent-plum-700) !important;
  border: 1px solid rgba(200, 169, 81, 0.15) !important;
  color: var(--foreground) !important;
}

.dark .local-ux-enhanced .user_query_input:focus {
  border-color: rgba(200, 169, 81, 0.5) !important;
  box-shadow: 0 0 0 3px rgba(200, 169, 81, 0.15) !important;
}

.dark .local-ux-enhanced .user_query_input::placeholder {
  color: rgba(245, 245, 245, 0.5) !important;
}

/* Dark mode search strategy toggles */
.dark .local-ux-enhanced .search_strategy_button {
  background: rgba(32, 20, 40, 0.60) !important;
  border: 1px solid rgba(200, 169, 81, 0.15) !important;
  color: rgba(245, 245, 245, 0.7) !important;
}

.dark .local-ux-enhanced .search_strategy_button.active {
  background: linear-gradient(135deg, var(--opulent-gold) 0%, var(--opulent-gold-600) 100%) !important;
  border-color: var(--opulent-gold) !important;
  color: var(--opulent-plum-900) !important;
}

/* Dark mode solution cards */
.dark .local-ux-enhanced .solution_card {
  background: rgba(32, 20, 40, 0.60) !important;
  border: 1px solid rgba(200, 169, 81, 0.15) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(200, 169, 81, 0.08) !important;
}

.dark .local-ux-enhanced .solution_card:hover {
  background: rgba(32, 20, 40, 0.70) !important;
  border-color: rgba(200, 169, 81, 0.20) !important;
}

/* Premium dark scrollbar styling */
.dark .scrollbar-hidden::-webkit-scrollbar-track {
  background: var(--opulent-plum-800);
}

.dark .scrollbar-hidden::-webkit-scrollbar-thumb {
  background: rgba(200, 169, 81, 0.3);
  border-radius: 4px;
}

.dark .scrollbar-hidden::-webkit-scrollbar-thumb:hover {
  background: rgba(200, 169, 81, 0.5);
}
